language: C++

before_script: 
  - wget https://dl.google.com/android/repository/android-ndk-r20-linux-x86_64.zip
  - unzip -qq android-ndk-r20-linux-x86_64.zip -d /opt/ndk-bundle
  - rm android-ndk-r20-linux-x86_64.zip
  - ls /
  - ls /opt

script:
  - ./configure.py --without-documentation --os=android --cpu=arm64 --verbose --disable-shared-library --cc-bin=/opt/ndk-bundle/toolchains/llvm/prebuilt/linux-x86_64/bin/clang++ --extra-cxxflags="-O3 -DNDEBUG -std=c++14 -funwind-tables -no-canonical-prefixes -D__ANDROID_API__=24 -fexceptions -frtti --sysroot=/opt/ndk-bundle/sysroot -isystem  /opt/ndk-bundle/sources/cxx-stl/llvm-libc++/include -isystem  /opt/ndk-bundle/sources/android/support/include -isystem  /opt/ndk-bundle/sources/cxx-stl/llvm-libc++abi/include -isystem  /opt/ndk-bundle/sysroot/usr/include -isystem  /opt/ndk-bundle/sysroot/usr/include/aarch64-linux-android -std=c++14 --target=aarch64-none-linux-android --gcc-toolchain=/opt/ndk-bundle/toolchains/aarch64-linux-android-4.9/prebuilt/linux-x86_64 -fPIC" --ldflags="-O3 -DNDEBUG -std=c++14   -funwind-tables -no-canonical-prefixes -D__ANDROID_API__=24 -fexceptions -frtti --sysroot=/opt/ndk-bundle/sysroot -isystem  /opt/ndk-bundle/sources/cxx-stl/llvm-libc++/include -isystem  /opt/ndk-bundle/sources/android/support/include -isystem  /opt/ndk-bundle/sources/cxx-stl/llvm-libc++abi/include -isystem  /opt/ndk-bundle/sysroot/usr/include -isystem  /opt/ndk-bundle/sysroot/usr/include/aarch64-linux-android -std=c++14 --target=aarch64-none-linux-android --gcc-toolchain=/opt/ndk-bundle/toolchains/aarch64-linux-android-4.9/prebuilt/linux-x86_64 -fPIC --sysroot=/opt/ndk-bundle/platforms/android-24/arch-arm64 -fPIE -pie -Wl,--gc-sections /opt/ndk-bundle/sources/cxx-stl/llvm-libc++/libs/arm64-v8a/libc++_static.a /opt/ndk-bundle/sources/cxx-stl/llvm-libc++/libs/arm64-v8a/libc++abi.a -latomic -lm -ldl -lc -lgcc --ar-command=/opt/ndk-bundle/toolchains/aarch64-linux-android-4.9/prebuilt/linux-x86_64/bin/aarch64-linux-android-ar"
  - make
  - make install
  